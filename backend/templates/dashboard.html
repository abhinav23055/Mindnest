<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MindNest | Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/dashboard.css') }}" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>

  <!-- NAV -->
  <nav>
    <a href="/" class="logo">MindNest</a>
    <div class="nav-buttons">
      <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ“ Toggle Mode</button>
      <a href="/articles" class="nav-link">Insights</a>
      <a href="/zen" class="nav-link">Zen Zone</a>
      <a href="/screening" class="nav-link">Assessments</a>
      <button class="btn-danger-sm" onclick="logout()">Logout</button>
    </div>
  </nav>

  <!-- PAGE LABEL -->
  <div class="page-label-strip">
    <div class="pl-dot" style="background:#3a5a40;"></div>
    <div class="pl-breadcrumb">
      <a href="/" class="pl-home">MindNest</a>
      <span class="pl-sep">/</span>
      <span class="pl-current">ğŸ“Š Dashboard</span>
    </div>
  </div>

  <div class="dashboard-container">

    <!-- WELCOME -->
    <div class="welcome-card">
      <div>
        <h1 id="userName">Hello ğŸ˜Š</h1>
        <p id="dateDisplay" class="date-text"></p>
      </div>
      <div id="statusBadge" class="status-badge">Check-in Pending</div>
    </div>

    <!-- CHART -->
    <div class="main-card">
      <div class="card-title">Your Wellness Journey</div>
      <canvas id="wellnessTrendChart" height="110"></canvas>
    </div>

    <!-- ACTION BUTTONS -->
    <div class="action-grid">
      <div class="action-btn" onclick="toggleCheckin()">
        <div class="icon">ğŸ“</div>
        Daily Check-in
      </div>
      <a href="/screening" class="action-btn">
        <div class="icon">ğŸ”</div>
        Assessments
      </a>
    </div>

    <!-- CHECKIN FORM -->
    <div id="checkinSection">
      <div class="card-title" style="margin-bottom:24px;">Quick Check-in</div>
      <div class="checkin-group">
        <label>Mood</label>
        <input type="range" id="mood" min="1" max="5" value="3">
        <div class="range-labels"><span>Low</span><span>High</span></div>
      </div>
      <div class="checkin-group">
        <label>Stress Level</label>
        <input type="range" id="stress" min="1" max="5" value="3">
        <div class="range-labels"><span>Calm</span><span>High</span></div>
      </div>
      <button class="btn-save" onclick="submitCheckin()">Save Progress â†’</button>
    </div>

    <!-- HISTORY -->
    <div id="historySection" class="history-card">
      <div class="card-title">Recent History</div>
      <table id="historyTable">
        <thead>
          <tr><th>Date</th><th>Mood</th><th>Stress</th></tr>
        </thead>
        <tbody id="historyTableBody"></tbody>
      </table>
    </div>

    <!-- FOOTER NAV -->
    <div class="footer-nav">
      <button class="footer-btn" onclick="toggleHistory()">View History</button>
      <button class="footer-btn" style="color: var(--danger); border: 1px solid rgba(192,57,43,0.2);" onclick="logout()">Logout</button>
    </div>

  </div>

  <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
</body>
</html>